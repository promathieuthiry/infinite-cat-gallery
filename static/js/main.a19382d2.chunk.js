(this["webpackJsonpinfinite-cat-gallery"]=this["webpackJsonpinfinite-cat-gallery"]||[]).push([[0],{157:function(e,t,a){},171:function(e,t,a){e.exports=a(361)},176:function(e,t,a){},177:function(e,t,a){},222:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),i=(a(176),a(32)),o=a(20),s=(a(177),a(52)),m=a(93),u=a.n(m),p=a(158),d=a(53),f=a(54),E=a(58),g=a(55),b=a(60),h=a(31),v=a(56),O=a(57),y=a(368),j=a(170),w=new Headers({"x-api-key":Object({NODE_ENV:"production",PUBLIC_URL:"https://promathieuthiry.github.io/infinite-cat-gallery"}).API_KEY_THE_CAT_API,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),P=(a(222),a(367)),S=a(366),k=a(61);var N=function(){var e=function(e){return r.a.createElement(P.a.Item,Object.assign({componentClass:i.b},e))};return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(S.a.Body,null,r.a.createElement(P.a,null,r.a.createElement(e,{to:"/"},r.a.createElement("span",{role:"img","aria-label":"Grinning Cat"},"\ud83d\ude3a"),"Cat Gallery")),r.a.createElement(P.a,{pullRight:!0},r.a.createElement(e,{to:"favourite",icon:r.a.createElement(k.a,{icon:"heart"})},"Favourites")))))};var I=function(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("header",{className:"masthead"},r.a.createElement("div",null,r.a.createElement("h1",null,"The infinite cat gallery"))),r.a.createElement(h.Animated,{animationIn:"bounce",animationInDuration:"1000",isVisible:!0},r.a.createElement("h4",{className:"scrollTitle"},"Scroll down to load more")))};a(157);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],isLoading:!1},a.getImage=Object(p.a)(u.a.mark((function e(){var t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=a.state.data,e.prev=2,e.next=5,fetch("https://api.thecatapi.com/v1/images/search?limit=40&order=DESC&size=small",w);case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,c=t.concat(r),a.setState({data:c,isLoading:!1}),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(2),a.setState({isLoading:!1}),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),a.filterLandscapeImage=function(e){return e.height/e.width>.5&&e.height/e.width<.7},a.fetchOnScroll=function(){window.innerHeight+window.scrollY>=document.body.scrollHeight&&a.getImage()},a.saveFavourite=function(e,t){for(var a=Object.entries(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},localStorage)),n=0;n<a.length;n++)if(!0===a[n][0].includes(e))return y.a.info("Already Saved");y.a.success("Successfully added"),localStorage.setItem(e,t)},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.getImage(),window.addEventListener("scroll",this.fetchOnScroll)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isLoading;return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"img-area"},a.filter(this.filterLandscapeImage).map((function(t){return r.a.createElement("div",{className:"item"},r.a.createElement(h.Animated,{animationInDuration:"3000"},r.a.createElement("img",{className:"image",src:t.url,alt:"",key:t.id})),r.a.createElement("div",{className:"middle"},r.a.createElement("button",{type:"button",className:"text",onClick:function(){return e.saveFavourite(t.id,t.url)}},r.a.createElement(v.a,{icon:O.a})," ",r.a.createElement("b",null,"Add favourite"))))}))),n&&r.a.createElement(j.a,{appearance:"link",loading:!0},"Link")))}}]),t}(n.Component);var A=function(){var e=function(e){return r.a.createElement(P.a.Item,Object.assign({componentClass:i.b},e))};return r.a.createElement("div",{className:"navbarFavourite"},r.a.createElement(S.a,null,r.a.createElement(S.a.Body,null,r.a.createElement(P.a,null,r.a.createElement(e,{to:"/"},r.a.createElement("span",{role:"img","aria-label":"Grinning Cat"},"\ud83d\ude3a"),"Cat Gallery")),r.a.createElement(P.a,{pullRight:!0},r.a.createElement(e,{to:"/",icon:r.a.createElement(k.a,{icon:"home"})},"Back")))))};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={items:Object.entries(x({},localStorage))},a.delete=function(e){localStorage.removeItem(e),a.setState({items:Object.entries(x({},localStorage))})},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"img-area"},0===t.length&&r.a.createElement("h4",null,"You don't have yet favourites. Please go back to the home page to add favourites"),t.map((function(t){return r.a.createElement("div",{className:"item"},r.a.createElement(h.Animated,{animationInDuration:"3000"},r.a.createElement("img",{className:"image",src:t[1],alt:"",key:t[0]})),r.a.createElement("div",{className:"middle"},r.a.createElement("button",{type:"button",className:"deleteButton",onClick:function(){return e.delete(t[0])}},r.a.createElement(v.a,{icon:O.b})," Delete")))})))),r.a.createElement("br",null))}}]),t}(n.Component);a(357).config();var _=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{basename:"/"},r.a.createElement(o.a,{exact:!0,path:"/",component:D}),r.a.createElement(o.a,{exact:!0,path:"/favourite",component:B})))};a(360);l.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.a19382d2.chunk.js.map