{"version":3,"sources":["helpers/header.js","components/fetchImage.jsx","components/header.jsx","App.js","index.js"],"names":["configHeader","Headers","process","API_KEY_THE_CAT_API","FetchImage","state","data","isLoading","getImage","a","setState","fetch","dataFetching","json","image","concat","filterLandscapeImage","element","height","width","this","window","onscroll","debounce","innerHeight","document","documentElement","scrollTop","offsetHeight","className","filter","map","item","animationInDuration","src","url","alt","key","id","class","href","icon","faWhatsapp","Component","Header","animationIn","isVisible","require","config","App","ReactDOM","render","getElementById"],"mappings":"mVAAaA,EAAe,IAAIC,QAC5B,CACE,YAAaC,mEAAYC,oBACzB,eAAgB,mBAChB,8BAA+B,MCyEtBC,G,kNAlEXC,MAAQ,CACJC,KAAM,GACNC,WAAW,G,EAwCfC,S,sBAAW,kCAAAC,EAAA,6DACP,EAAKC,SAAS,CAAEH,WAAW,IACnBD,EAAS,EAAKD,MAAdC,KAFD,kBAImBK,MAAM,4EAA6EX,GAJtG,cAIFY,EAJE,gBAKaA,EAAaC,OAL1B,OAKFC,EALE,OAMHC,EAAST,EAAKS,OAAOD,GACzB,EAAKJ,SAAS,CAACJ,KAAMS,EAAQR,WAAW,IAPjC,wDAUH,EAAKG,SAAS,CAAEH,WAAW,IAVxB,+D,EAiBXS,qBAAuB,SAACC,GACxB,OAAUA,EAAQC,OAASD,EAAQE,MAAS,IACvCF,EAAQC,OAASD,EAAQE,MAAS,I,mFAxDnCC,KAAKZ,a,+BAGC,IAAD,OAGLa,OAAOC,SAAWC,KAAS,WAErBF,OAAOG,YAAcC,SAASC,gBAAgBC,YAC1CF,SAASC,gBAAgBE,cAE3B,EAAKpB,aAER,KAVA,MAYuBY,KAAKf,MAAzBC,EAZH,EAYGA,KAAMC,EAZT,EAYSA,UAEd,OACI,yBAAKsB,UAAU,WACZ,yBAAKA,UAAU,YACbvB,EAAKwB,OAAOV,KAAKJ,sBAAsBe,KAAI,SAAAC,GAAI,OACjD,yBAAKH,UAAU,QACX,kBAAC,WAAD,CAAUI,oBAAoB,QAC/B,yBAAKJ,UAAU,QAAQK,IAAKF,EAAKG,IAAKC,IAAI,GAAGC,IAAKL,EAAKM,MAEvD,yBAAKC,MAAM,UACZ,uBAAGV,UAAU,OAAOW,KAAK,sCACzB,kBAAC,IAAD,CAAiBC,KAAMC,MADvB,4BAMDnC,GAAa,2C,GAvCJoC,c,OCcVC,MAlBf,WACI,OACI,6BACA,4BAAQf,UAAU,YAClB,6BACE,wDACA,4BACE,+EAIN,kBAAC,WAAD,CAAUgB,YAAY,SAASZ,oBAAoB,OAAQa,WAAW,GACtE,wBAAIjB,UAAU,eAAd,+BCZNkB,EAAQ,KAAUC,SAWHC,MATf,WACE,OACE,yBAAKpB,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,QCNNqB,IAASC,OAAO,kBAAC,EAAD,MAAS1B,SAAS2B,eAAe,U","file":"static/js/main.788f80b6.chunk.js","sourcesContent":["export const configHeader = new Headers( \n    {\n      'x-api-key': process.env.API_KEY_THE_CAT_API,\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': \"*\"\n    }\n)\n","import React, { Component } from 'react'\nimport debounce from \"lodash.debounce\";\nimport {Animated} from \"react-animated-css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faWhatsapp } from \"@fortawesome/free-brands-svg-icons\"\n\nimport { configHeader } from '../helpers/header'\nimport './fetchImage.css'\n\nclass FetchImage extends Component {\n\n    state = {\n        data: [],\n        isLoading: false\n    }\n    componentDidMount() {\n        this.getImage()\n    }\n    \n    render() {\n\n        // Fetch automatically on scroll when almost at the bottom\n        window.onscroll = debounce(() => {\n            if (\n              window.innerHeight + document.documentElement.scrollTop\n              === document.documentElement.offsetHeight\n            ) {\n                this.getImage()\n            }\n          }, 200);\n\n        const { data, isLoading } = this.state\n  \n        return (\n            <div className=\"wrapper\">\n               <div className=\"img-area\">\n                {data.filter(this.filterLandscapeImage).map(item => \n               <div className=\"item\">\n                   <Animated animationInDuration=\"3000\" >\n                  <img className=\"image\" src={item.url} alt=\"\" key={item.id} />   \n                  </Animated>\n                  <div class=\"middle\">\n                 <a className=\"text\" href=\"https://wa.me/?text=urlencodedtext\">\n                 <FontAwesomeIcon icon={faWhatsapp} /> Share on Whatsapp</a>\n                 </div>\n                  </div>\n                  )}\n               </div>\n               {isLoading && <p>Loading</p>}\n            </div>\n        )\n    }\n\n    getImage = async () => {\n        this.setState({ isLoading: true })\n        const { data } = this.state\n        try {\n       const dataFetching = await fetch('https://api.thecatapi.com/v1/images/search?limit=40&order=DESC&size=small', configHeader)\n       const image  = await dataFetching.json()\n        let concat = data.concat(image)\n        this.setState({data: concat, isLoading: false})\n        }\n        catch(error) {\n            this.setState({ isLoading: false })\n            throw error\n        }\n        \n    }\n\n    // Filter image with a certain ratio\n    filterLandscapeImage = (element) => {\n    return  ((element.height / element.width) > 0.5) \n    && ((element.height / element.width) < 0.7)\n    }\n}\n\n    \nexport default FetchImage","import React from 'react'\nimport {Animated} from \"react-animated-css\";\n\nimport './header.css'\n\nfunction Header() {\n    return (\n        <div>\n        <header className=\"masthead\">\n        <div>\n          <h1 >The infinite cat gallery</h1>\n          <h3 >\n            <em>Keep scrolling, the cuteness just won't stop</em>\n          </h3>\n        </div>\n      </header>\n      <Animated animationIn=\"bounce\" animationInDuration=\"1000\"  isVisible={true}>\n      <h4 className=\"scrollTitle\">Scroll down to load more</h4>\n      </Animated>\n        </div>\n    )\n}\n\nexport default Header","import React from 'react';\nimport './App.css';\nimport FetchImage from './components/fetchImage';\nimport Header from './components/header';\n\nrequire('dotenv').config()\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <FetchImage />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}